<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="{{.G.CssSrc}}">
  </head>
  <body>
    <!-- TODO create a separate file for this icon map -->
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">
      <symbol id="icon-account-box" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">
        <path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1-2.1-.94-2.1-2.1.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1h-12.2v-1.1c0-.64 3.13-2.1 6.1-2.1m0-10.9c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path>
      </symbol>
      <symbol id="icon-lock" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">
        <path d="M18 8h-1v-2c0-2.76-2.24-5-5-5s-5 2.24-5 5v2h-1c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9h-6.2v-2c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path>
      </symbol>
    </svg>
    <h1>New User</h1>
    <div class="module center short-modal">
      <form method="POST" action="{{.G.ProcessFormLoc}}">
        <input type="hidden" name="{{.G.NonceFormName}}" value="{{.D.Nonce}}" /> 
        <input type="hidden" name="{{.G.RequiresLoginFormName}}" value="false" /> 
        <input type="hidden" name="qr_secret" value="{{.D.QRSecret}}" /> 
        <input type="hidden" name="{{.G.ActionFormName}}" value="new_user" />
        <div class="field-container">
          <label>
            <svg class="icon">
              <use xlink:href="#icon-account-box"/>
            </svg>
          </label>
          <input type="text" name="name" placeholder="username" required/>
        </div>
        <div class="field-container">
          <label>
            <svg class="icon">
              <use xlink:href="#icon-lock"/>
            </svg>
          </label>
          <input type="password" name="password" placeholder="password" required/>
        </div>
        <div class="field-container">
          <img height="256px" width="256px" src="data:image/png;base64, {{.D.QRSecretB64}}"/>
        </div>
        <div class="field-container">
          <button class="btn-full" type="submit">Submit</button>
        </div>
        <div class="field-container">
          <!-- TODO make dynamic -->
          <a href="{{.G.LoginLoc}}">Login</a>
        </div>
      </form>
    </div>
  </body>
</html>
